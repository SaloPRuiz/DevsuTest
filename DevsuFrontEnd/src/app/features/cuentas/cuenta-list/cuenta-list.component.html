<div class="cliente-container">
  <div class="header">
    <h2>Cuentas</h2>
  </div>

  <div class="toolbar">
    <div class="search-bar">
      <input
        type="text"
        placeholder="Buscar cuenta..."
        [(ngModel)]="searchValue"
        (ngModelChange)="onSearchChange($event)"
      />
      <button *ngIf="searchValue" class="clear-btn" (click)="clearSearch()">✕</button>
    </div>

    <button class="new-btn" (click)="openModal('crear')">Nuevo</button>
  </div>

  <table class="cliente-table" *ngIf="items.length > 0; else noData">
    <thead>
    <tr>
      <th>Número</th>
      <th>Tipo</th>
      <th>Saldo Inicial</th>
      <th>Estado</th>
      <th>Acciones</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let c of items">
      <td>{{ c.numeroCuenta }}</td>
      <td>{{ c.tipoCuenta }}</td>
      <td>{{ c.saldoInicial | currency }}</td>
      <td>{{ c.estado ? 'Activo' : 'Inactivo' }}</td>
      <td>
        <div class="actions">
          <button (click)="openModal('ver', c)">Ver</button>
          <button (click)="openModal('editar', c)">Editar</button>
          <button (click)="delete(c.cuentaId!)">Eliminar</button>
        </div>
      </td>
    </tr>
    </tbody>
  </table>

  <ng-template #noData>
    <p>No hay cuentas registradas.</p>
  </ng-template>

  <!-- Reutiliza el modal base
  <app-cuenta-modal
    [visible]="modalVisible"
    [form]="form"
    [mode]="mode"
    (onSave)="save()"
    (onClose)="closeModal()"
  ></app-cuenta-modal> -->
</div>
